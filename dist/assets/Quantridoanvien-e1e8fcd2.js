import{j as e,d as re,u as Le,r as c,m as ae,Q as P,_ as bs,k as js}from"./index-af889cc1.js";import{d as vs}from"./GridView-81a883b8.js";import"./index.esm-a80e06b2.js";import{u as Y,C as W}from"./index.esm-c3d487d5.js";import{d as qe}from"./Search-2a58d6d5.js";import{q as ys}from"./base-e8aaf39e.js";import{S as R}from"./react-select.esm-34b6099d.js";import{c as D}from"./canboApi-f8430c3d.js";import{b as se,c as H,d as l,I as L,M as Cs,e as ie,f as de,P as Ds,h as ue,i as he,j as xe,k as Ns,u as ks,a as A,l as Me,m as $e,n as Ve,o as We}from"./LastPage-dd44c61f.js";import{d as I}from"./dayjs.min-f7728a8e.js";import{f as ge,g as pe,S as G,D as K,a as Q,h as X,d as U,b as J,c as le,e as fe}from"./DialogDelete-4539fb54.js";import{r as ne,i as te}from"./createSvgIcon-c7fd463f.js";import{d as Ss}from"./MilitaryTech-b50e2d5f.js";import{B as O}from"./Button-37b8afe6.js";import{d as _s}from"./Add-2c2882de.js";import{s as Z}from"./ButtonBase-df984b9e.js";import{c as He}from"./chucvuApi-3ded1069.js";import{b as Ps}from"./bachamApi-3268978e.js";import{d as Ee}from"./donviApi-6df4dd62.js";var De={},ws=te;Object.defineProperty(De,"__esModule",{value:!0});var Ye=De.default=void 0,Os=ws(ne()),zs=e,Ts=(0,Os.default)((0,zs.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5zm19 0V4h-9v7h9zm-2-2h-5V6h5v3zm-7 4h9v7h-9z"}),"MoveDown");Ye=De.default=Ts;var Ne={},Bs=te;Object.defineProperty(Ne,"__esModule",{value:!0});var Ae=Ne.default=void 0,qs=Bs(ne()),Ms=e,$s=(0,qs.default)((0,Ms.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertOutlined");Ae=Ne.default=$s;var ke={},Vs=te;Object.defineProperty(ke,"__esModule",{value:!0});var Fe=ke.default=void 0,Ws=Vs(ne()),Rs=e,Ls=(0,Ws.default)((0,Rs.jsx)("path",{d:"m12 8.89.94 3.11h2.82l-2.27 1.62.93 3.01L12 14.79l-2.42 1.84.93-3.01L8.24 12h2.82L12 8.89M12 2l-2.42 8H2l6.17 4.41L5.83 22 12 17.31 18.18 22l-2.35-7.59L22 10h-7.58L12 2z"}),"StarBorderPurple500");Fe=ke.default=Ls;var Se={},Hs=te;Object.defineProperty(Se,"__esModule",{value:!0});var Ce=Se.default=void 0,Es=Hs(ne()),Ys=e,As=(0,Es.default)((0,Ys.jsx)("path",{d:"M3 14h4v-4H3v4zm0 5h4v-4H3v4zM3 9h4V5H3v4zm5 5h13v-4H8v4zm0 5h13v-4H8v4zM8 5v4h13V5H8z"}),"ViewList");Ce=Se.default=As;var _e={},Fs=te;Object.defineProperty(_e,"__esModule",{value:!0});var ce=_e.default=void 0,Is=Fs(ne()),Re=e,Gs=(0,Is.default)([(0,Re.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6z"},"0"),(0,Re.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12zm0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17z"},"1")],"AdminPanelSettings");ce=_e.default=Gs;const Ks=({onClose:n,row:s,onClickOpenDialogChangeBacHam:i,onClickOpenDialogChangeChucvu:h,onClickOpenDialogChucvuPlus:r,onClickOpenDialogBachamPlus:C,onClickOpenDialogDonviPlus:m,onClickOpenDialogChuyenCongtackhactinh:x,onClickOpenDialogTruongthanhdoan:y})=>{const g=re(T=>T.authReducer.roles_quanlydoanvien),d=()=>{n(),i(s)},p=()=>{n(),h(s)},k=()=>{n(),r(s)},u=()=>{n(),C(s)},t=()=>{n(),m(s)},b=()=>{n(),y(s)},S=()=>{n(),x(s)};return Le(),e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-center p-2 px-4 text-green-800 font-medium",children:"Chức năng quản trị mở rộng"}),e.jsx("hr",{}),g&&g.includes("xem nâng cao")&&e.jsxs(e.Fragment,{children:[e.jsx(se,{onClick:()=>k(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(ce,{color:"primary"}),e.jsx("span",{className:"text-sm",children:"Quản trị chức vụ nâng cao"})]})}),e.jsx(se,{onClick:()=>u(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(ce,{color:"primary"}),e.jsx("span",{className:"text-sm",children:"Quản trị nâng cao cấp bậc hàm"})]})}),e.jsx(se,{onClick:()=>t(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(ce,{color:"primary"}),e.jsx("span",{className:"text-sm",children:"Quản trị nâng cao đơn vị công tác"})]})})]}),e.jsx(se,{onClick:()=>p(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(Ss,{}),e.jsx("span",{className:"text-sm",children:"Thay đổi chức vụ công tác mới"})]})}),e.jsx(se,{onClick:()=>d(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(Fe,{}),e.jsx("span",{className:"text-sm",children:"Thay đổi cấp bậc hàm"})]})}),e.jsx(se,{onClick:()=>b(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(Ce,{}),e.jsx("span",{className:"text-sm",children:"Trưởng thành đoàn"})]})}),e.jsx(se,{onClick:()=>S(),children:e.jsxs("div",{className:"flex items-center justify-between space-x-4 hover:bg-slate-200 p-1 rounded-md w-full",children:[e.jsx(Ce,{}),e.jsx("span",{className:"text-sm",children:"Chuyển công tác ngoài tỉnh"})]})})]})},Qs=({row:n,onClickOpenDialogEdit:s,onClickOpenDialogDelete:i,onClickOpenDialogChangeBacHam:h,onClickOpenDialogChangeChucvu:r,onClickOpenDialogChucvuPlus:C,onClickOpenDialogBachamPlus:m,onClickOpenDialogChuyenCongtac:x,onClickOpenDialogChuyenCongtackhactinh:y,onClickOpenDialogDonviPlus:g,onClickOpenDialogTruongthanhdoan:d,page:p,rowsPerPage:k,index:u})=>{const[t,b]=c.useState(null),S=!!t,T=B=>{b(B.currentTarget)},z=()=>{b(null)},_=re(B=>B.authReducer.roles_quanlydoanvien);return e.jsxs(H,{children:[e.jsx(l,{className:"border-r border-slate-300",align:"left",style:{fontWeight:"bold"},children:p*k+u}),e.jsx(l,{className:"border-r border-slate-300",align:"left",style:{fontWeight:"bold"},children:n.hoten}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:I(n.ngaysinh).format("DD/MM/YYYY")}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.bachamPopulate[0].bacham}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.chucvuPopulate[0].chucvu}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:e.jsx("p",{className:"truncate",children:n.doiPopulate[0].tendoi})}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:e.jsx("p",{className:"truncate",children:n.donviPopulate[0].tendonvi})}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.dangvien===!0?"Đảng viên":""}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:e.jsx("p",{className:"truncate",children:n.quequan})}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.gioitinh}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.CCCD}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.sohieuCAND}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.ngayvaodang!==""?I(n.ngayvaodang).format("DD/MM/YYYY"):""}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.trinhdo}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:n.lyluanchinhtri}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:I(n.bacham.tungay).format("DD/MM/YYYY")}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:I(n.chucvu.tungay).format("DD/MM/YYYY")}),e.jsx(l,{className:"border-r border-slate-300",align:"left",children:I(n.donvi.tungay).format("DD/MM/YYYY")}),e.jsx(l,{className:"border-r border-slate-300",align:"left"}),e.jsxs(l,{align:"right",className:"bg-gray-300 flex justify-center items-center space-x-1",style:{position:"absolute",right:"40px",height:"53px",width:"300px",display:"flex",flexDirection:"unset"},children:[_&&_.includes("sửa đoàn viên")&&e.jsx(O,{variant:"contained",color:"success",size:"small",onClick:()=>s(n),children:e.jsx(ge,{style:{fontSize:"20px"}})}),_&&_.includes("sửa đoàn viên")&&e.jsx(O,{variant:"contained",color:"info",size:"small",onClick:()=>x(n),children:e.jsx(Ye,{style:{fontSize:"20px"}})}),_&&_.includes("xóa đoàn viên")&&e.jsx(O,{variant:"contained",color:"error",size:"small",style:{marginLeft:"4px"},onClick:()=>i(n._id),children:e.jsx(pe,{style:{fontSize:"20px"}})}),e.jsx(L,{id:"basic-button","aria-controls":S?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":S?"true":void 0,onClick:T,children:e.jsx(Ae,{color:"primary"})}),e.jsx(Cs,{id:"basic-menu",anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"right"},open:S,onClose:z,MenuListProps:{"aria-labelledby":"basic-button"},children:e.jsx(Ks,{onClose:z,row:n,onClickOpenDialogChangeBacHam:h,onClickOpenDialogChangeChucvu:r,onClickOpenDialogChucvuPlus:C,onClickOpenDialogBachamPlus:m,onClickOpenDialogDonviPlus:g,onClickOpenDialogChuyenCongtackhactinh:y,onClickOpenDialogTruongthanhdoan:d})})]})]},n._id)};function Ie(n){const s=ks(),{count:i,page:h,rowsPerPage:r,onPageChange:C}=n,m=d=>{C(d,0)},x=d=>{C(d,h-1)},y=d=>{C(d,h+1)},g=d=>{C(d,Math.max(0,Math.ceil(i/r)-1))};return e.jsxs(A,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(L,{onClick:m,disabled:h===0,"aria-label":"first page",children:s.direction==="rtl"?e.jsx(Me,{}):e.jsx($e,{})}),e.jsx(L,{onClick:x,disabled:h===0,"aria-label":"previous page",children:s.direction==="rtl"?e.jsx(Ve,{}):e.jsx(We,{})}),e.jsx(L,{onClick:y,disabled:h>=Math.ceil(i/r)-1,"aria-label":"next page",children:s.direction==="rtl"?e.jsx(We,{}):e.jsx(Ve,{})}),e.jsx(L,{onClick:g,disabled:h>=Math.ceil(i/r)-1,"aria-label":"last page",children:s.direction==="rtl"?e.jsx($e,{}):e.jsx(Me,{})})]})}Ie.propTypes={count:ie.number.isRequired,onPageChange:ie.func.isRequired,page:ie.number.isRequired,rowsPerPage:ie.number.isRequired};function Xs({list:n,onClickOpenDialogDelete:s,onClickOpenDialogEdit:i,onClickOpenDialogChangeBacHam:h,onClickOpenDialogChangeChucvu:r,onClickOpenDialogChucvuPlus:C,onClickOpenDialogBachamPlus:m,onClickOpenDialogDonviPlus:x,onClickOpenDialogChuyenCongtackhactinh:y,onClickOpenDialogChuyenCongtac:g,onClickOpenDialogTruongthanhdoan:d}){const[p,k]=c.useState(0),[u,t]=c.useState(10),b=p>0?Math.max(0,(1+p)*u-n.length):0,S=(z,_)=>{k(_)},T=z=>{t(parseInt(z.target.value,10)),k(0)};return e.jsxs(e.Fragment,{children:[e.jsx(de,{component:Ds,style:{overflowX:"scroll"},children:e.jsxs(ue,{"aria-label":"custom pagination table",children:[e.jsx(he,{children:e.jsxs(H,{children:[e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"#"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"250px"},children:"Họ tên"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"120px"},children:"Ngày sinh"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"120px"},children:"Bậc hàm"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"300px"},children:"Chức vụ"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"300px"},children:"Đội, công an xã"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"300px"},children:"Đơn vị công tác"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Đảng viên"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"300px"},children:"Quê quán"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Giới tính"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Số CCCD"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"120px"},children:"Số hiệu CAND"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày vào đảng"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Trình độ học vấn"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Lý luận chính trị"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày lên hàm"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày giữ chức vụ"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"250px"},children:"Ngày nhận công tác về đơn vị"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"300px"}}),e.jsx(l,{align:"center",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(64, 64, 64)",minWidth:"300px",position:"absolute",right:"40px"},children:"Thao tác"})]})}),e.jsxs(xe,{children:[(u>0?n.slice(p*u,p*u+u):n).map((z,_)=>e.jsx(Qs,{row:z,page:p,rowsPerPage:u,index:_+1,onClickOpenDialogEdit:i,onClickOpenDialogDelete:s,onClickOpenDialogChuyenCongtac:g,onClickOpenDialogChuyenCongtackhactinh:y,onClickOpenDialogChangeBacHam:h,onClickOpenDialogChangeChucvu:r,onClickOpenDialogChucvuPlus:C,onClickOpenDialogBachamPlus:m,onClickOpenDialogDonviPlus:x,onClickOpenDialogTruongthanhdoan:d},z._id)),b>0&&e.jsx(H,{style:{height:53*b},children:e.jsx(l,{colSpan:6})})]})]})}),e.jsx("div",{children:e.jsx(Ns,{rowsPerPageOptions:[10,25,50,100,{label:"Tất cả",value:-1}],count:n.length,rowsPerPage:u,page:p,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},component:"div",onPageChange:S,onRowsPerPageChange:T,ActionsComponent:Ie,labelRowsPerPage:"Số cán bộ hiển thị trên mỗi trang",labelDisplayedRows:function({from:_,to:B,count:M}){return`hiển thị ${_} đến ${B} cán bộ trong tổng số ${M!==-1?M:`more than ${B}`} cán bộ`}})})]})}const Us=c.forwardRef(function(s,i){return e.jsx(G,{direction:"up",ref:i,...s})}),Js=Z(L)({position:"absolute",right:"16px",top:"4px"});function Zs({open:n,item:s,onCloseDialogEdit:i,onSubmit:h}){const[r,C]=c.useState(!0),{register:m,handleSubmit:x,control:y,resetField:g,setValue:d,watch:p,formState:{errors:k}}=Y({defaultValues:{hoten:"",ngaysinh:"",quequan:"",sohieuCAND:""}});c.useEffect(()=>{var t;C((t=p("dangvien"))==null?void 0:t.value)},[p("dangvien")]),c.useEffect(()=>{s&&(d("hoten",s.hoten,{shouldValidate:!0}),d("ngaysinh",s.ngaysinh,{shouldValidate:!0}),d("CCCD",s.CCCD,{shouldValidate:!0}),d("gioitinh",{value:s.gioitinh,label:s.gioitinh},{shouldValidate:!0}),d("quequan",s.quequan,{shouldValidate:!0}),d("sohieuCAND",s.sohieuCAND,{shouldValidate:!0}),d("trinhdo",{value:s.trinhdo,label:s.trinhdo},{shouldValidate:!0}),d("lyluanchinhtri",{value:s.lyluanchinhtri,label:s.lyluanchinhtri},{shouldValidate:!0}),d("dangvien",{value:s.dangvien,label:s.dangvien===!0?"Có":"Không"}),d("ngayvaodang",s.ngayvaodang),C(s.dangvien))},[s]);const u=async t=>{if(h){const b={...t,id_edit:s._id};await h(b),i()}};return e.jsx(e.Fragment,{children:e.jsxs(K,{maxWidth:"lg",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(t,b)=>{b!=="backdropClick"&&i(t,b)},open:n,TransitionComponent:Us,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(Q,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(X,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsx("span",{className:"text-white text-[18px]",children:"Chỉnh sửa thông tin đoàn viên"}),e.jsx(Js,{onClick:()=>i(),children:e.jsx(U,{style:{color:"white"}})})]}),e.jsx(J,{children:e.jsx(A,{children:e.jsxs("form",{className:"mt-2 mx-8",onSubmit:x(u),children:[e.jsx("div",{className:"flex space-x-2 items-start",children:e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-col flex-1 bg-slate-300 p-2 rounded-md",children:[e.jsxs("div",{className:"flex-col flex md:basis-1/3 flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Họ và tên: "]}),e.jsx("input",{...m("hoten",{required:!0}),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/3 flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Số CCCD: "]}),e.jsx("input",{...m("CCCD",{required:!0}),type:"number",maxLength:12,minLength:12,className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex flex-1 md:basis-1/6 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Giới tính:"]}),e.jsx(W,{control:y,name:"gioitinh",render:({field:t})=>e.jsx(R,{options:[{value:"Nam",label:"Nam"},{value:"Nữ",label:"Nữ"}],className:"basic-multi-select my-4 p-1",classNamePrefix:"select",...t})})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/6 flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày sinh: "]}),e.jsx("input",{...m("ngaysinh"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/3 flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Quê quán: "}),e.jsx("input",{...m("quequan"),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/6 flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Số hiệu CAND: "}),e.jsx("input",{...m("sohieuCAND"),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex flex-1 md:basis-1/6 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Trình độ học vấn:"}),e.jsx(W,{control:y,name:"trinhdo",render:({field:t})=>e.jsx(R,{options:[{value:"Đại học",label:"Đại học"},{value:"Cao đẳng",label:"Cao đẳng"},{value:"Trung cấp",label:"Trung cấp"},{value:"Sơ cấp",label:"Sơ cấp"},{value:"Khác",label:"Khác"}],className:"basic-multi-select my-4 p-1",classNamePrefix:"select",...t})})]}),e.jsxs("div",{className:"flex-col flex flex-1 md:basis-1/6 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Lý luận chính trị:"}),e.jsx(W,{control:y,name:"lyluanchinhtri",render:({field:t})=>e.jsx(R,{options:[{value:"Trung cấp",label:"Trung cấp"},{value:"Sơ cấp",label:"Sơ cấp"},{value:"Cao cấp",label:"Cao cấp"},{value:"Khác",label:"Khác"}],className:"basic-multi-select my-4 p-1",classNamePrefix:"select",...t})})]}),e.jsxs("div",{className:"flex-col flex flex-1 md:basis-1/6 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Là đảng viên:"}),e.jsx(W,{control:y,name:"dangvien",render:({field:t})=>e.jsx(R,{options:[{value:!0,label:"Có"},{value:!1,label:"Không"}],className:"basic-multi-select my-4 p-1",classNamePrefix:"select",...t})})]}),r===!0?e.jsxs("div",{className:"flex-col flex md:basis-1/4 flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày kết nạp vào đảng: "]}),e.jsx("input",{...m("ngayvaodang"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}):""]})}),e.jsx("div",{className:"md:space-x-2 space-y-2 md:space-y-0 md:block flex flex-col items-center mt-4",children:e.jsxs(O,{type:"submit",sx:{width:"220px",backgroundColor:"gray"},color:"primary",variant:"contained",children:[e.jsx(_s,{})," Cập nhật"]})})]})})})]})})}var Pe={},ea=te;Object.defineProperty(Pe,"__esModule",{value:!0});var ee=Pe.default=void 0,sa=ea(ne()),aa=e,la=(0,sa.default)((0,aa.jsx)("path",{d:"M2 20h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1H2v11zm19.83-7.12c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22L14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.84C7 18.95 8.05 20 9.34 20h8.11c.7 0 1.36-.37 1.72-.97l2.66-6.15z"}),"ThumbUpAlt");ee=Pe.default=la;const na=c.forwardRef(function(s,i){return e.jsx(G,{direction:"up",ref:i,...s})}),ta=Z(L)({position:"absolute",right:"16px",top:"4px"});function oa({open:n,item:s,onCloseDialogChangeChucvu:i,onSubmit:h}){var p,k;const r=Y({defaultValues:{ghichu:"",ngaygiuchucvu:""}}),[C,m]=c.useState([]),x=r.setValue;r.watch,c.useEffect(()=>{(async()=>{try{let t=await He.getChucvus();m(t.data.map(b=>({value:b._id,label:b.chucvu})))}catch(t){console.log(t.message)}})()},[]),c.useEffect(()=>{s&&x("chucvu",{value:s==null?void 0:s.chucvuPopulate[0]._id,label:s==null?void 0:s.chucvuPopulate[0].chucvu},{shouldValidate:!0})},[s]);const y=async u=>{if(h){const t={...u,id_edit:s._id};await h(t),i()}},{isSubmitting:g}=r.formState,{register:d}=r;return e.jsx(e.Fragment,{children:e.jsxs(K,{maxWidth:"lg",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(u,t)=>{t!=="backdropClick"&&i(u,t)},open:n,TransitionComponent:na,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(Q,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(X,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[18px]",children:['Thay đổi chức vụ công tác đối với đồng chí "',(p=s==null?void 0:s.bachamPopulate[0])==null?void 0:p.bacham," ",s==null?void 0:s.hoten,'" hiện đang là ',(k=s==null?void 0:s.chucvuPopulate[0])==null?void 0:k.chucvu]}),e.jsx(ta,{onClick:()=>i(),children:e.jsx(U,{style:{color:"white"}})})]}),e.jsx(J,{children:e.jsx(A,{children:e.jsxs("form",{onSubmit:r.handleSubmit(y),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Chức vụ công tác mới:"}),e.jsx(W,{control:r.control,name:"chucvu",render:({field:u})=>e.jsx(R,{options:C,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn chức vụ",required:!0,...u})})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Giữ chức vụ mới kể từ ngày: "]}),e.jsx("input",{...d("ngaygiuchucvu"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú: "}),e.jsx("input",{...d("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(le,{children:e.jsxs(O,{color:"primary",variant:"contained",disabled:g,type:"submit",style:{margin:"4px auto"},children:[e.jsx(ee,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})})})]})})}const ra=c.forwardRef(function(s,i){return e.jsx(G,{direction:"up",ref:i,...s})}),ia=Z(L)({position:"absolute",right:"16px",top:"4px"});function ca({open:n,item:s,onCloseDialogChucvuPlus:i,onSubmit:h}){var E,j;const r=Y({defaultValues:{id_item:null,ghichu:"",ngaygiuchucvu:""}}),[C,m]=ae(),[x,y]=c.useState([]),[g,d]=c.useState([]),p=r.setValue,k=r.watch,[u,t]=c.useState({status:!1,id_Delete:null}),b=()=>{t({...u,status:!1})},S=()=>{t({...u,status:!1})},T=a=>{t({status:!0,id_Delete:a})};c.useEffect(()=>{(async()=>{try{let f=await He.getChucvus();y(f.data.map(N=>({value:N._id,label:N.chucvu})))}catch(f){console.log(f.message)}})()},[]),c.useEffect(()=>{s&&(p("id_item",null),p("ghichu",""),p("ngaygiuchucvu",""),(async()=>{try{let f=await D.getChucvuPlus(s._id);d(f.data)}catch(f){console.log(f.message)}})())},[s]);const z=async a=>{if(h){m(!0);const f={...a,id:s._id};try{let N=await D.changeChucvuPlus(f);d(N.data.data),await h(),r.reset(),m(!1),P.success(N.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(N){console.log(N.message)}}},_=a=>{p("id_item",a._id),p("ghichu",a.ghichu),p("ngaygiuchucvu",a.tungay),p("chucvu",{label:a.chucvu.chucvu,value:a.chucvu._id})},B=async()=>{if(h){m(!0);try{let a=await D.deleteChucvuPlus(s._id,u.id_Delete);d(a.data.data),await h(),m(!1),P.success(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),t({...u,status:!1})}catch(a){console.log(a.message)}}};r.formState;const{register:M}=r,$=re(a=>a.authReducer.roles_quanlydoanvien);return e.jsx(e.Fragment,{children:e.jsxs(K,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(a,f)=>{f!=="backdropClick"&&i(a,f)},open:n,TransitionComponent:ra,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(Q,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(X,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[18px]",children:['Quản trị chức vụ nâng cao đối với đồng chí "',(E=s==null?void 0:s.bachamPopulate[0])==null?void 0:E.bacham," ",s==null?void 0:s.hoten,'" hiện đang là ',(j=s==null?void 0:s.chucvuPopulate[0])==null?void 0:j.chucvu]}),e.jsx(ia,{onClick:()=>i(),children:e.jsx(U,{style:{color:"white"}})})]}),e.jsxs(J,{children:[e.jsx(A,{children:e.jsxs("form",{onSubmit:r.handleSubmit(z),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Chức vụ công tác chỉnh sửa:"}),e.jsx(W,{control:r.control,name:"chucvu",render:({field:a})=>e.jsx(R,{options:x,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn chức vụ",required:!0,...a})})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Giữ chức vụ từ ngày: "]}),e.jsx("input",{...M("ngaygiuchucvu"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú chỉnh sửa: "}),e.jsx("input",{...M("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(le,{children:e.jsxs(O,{color:"primary",variant:"contained",disabled:!k("id_item"),type:"submit",style:{margin:"4px auto"},children:[e.jsx(ee,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})}),e.jsx("div",{children:e.jsx("h3",{className:"text-center my-4 text-lg font-bold text-blue-500",children:"Quá trình công tác giữ các chức vụ"})}),e.jsx(de,{style:{overflowX:"scroll"},children:e.jsxs(ue,{"aria-label":"custom pagination table",children:[e.jsx(he,{children:e.jsxs(H,{children:[e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"#"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Chức vụ công tác"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày giữ chức vụ"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ghi chú"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"Thao tác"})]})}),e.jsx(xe,{children:g.length>0?g.map((a,f)=>e.jsxs(H,{children:[e.jsx(l,{children:f+1}),e.jsx(l,{children:a.chucvu.chucvu}),e.jsx(l,{children:I(a.tungay).format("DD/MM/YYYY")}),e.jsx(l,{children:a.ghichu}),e.jsxs(l,{align:"right",className:"bg-gray-300 flex justify-center items-center space-x-1 hover:bg-slate-500 transition duration-300",style:{width:"180px"},children:[$&&$.includes("sửa nâng cao")&&e.jsx(O,{variant:"contained",color:"success",size:"small",onClick:()=>_(a),children:e.jsx(ge,{style:{fontSize:"20px"}})}),$&&$.includes("xóa nâng cao")&&e.jsx(O,{variant:"contained",color:"error",size:"small",style:{marginLeft:"4px"},onClick:()=>T(a._id),children:e.jsx(pe,{style:{fontSize:"20px"}})})]})]},a._id)):e.jsx(H,{children:e.jsx(l,{children:"Không có dữ liệu trong hệ thống"})})})]})}),e.jsx(fe,{open:u.status,onCloseDialogDelete:S,onConfirmDelete:B,onCancelDelete:b})]})]})})}const da=c.forwardRef(function(s,i){return e.jsx(G,{direction:"up",ref:i,...s})}),ua=Z(L)({position:"absolute",right:"16px",top:"4px"});function ha({open:n,item:s,onCloseDialogBachamPlus:i,onSubmit:h}){var E;const r=Y({defaultValues:{id_item:null,ghichu:"",ngaylenham:""}}),[C,m]=ae(),[x,y]=c.useState([]),[g,d]=c.useState([]),p=r.setValue,k=r.watch,[u,t]=c.useState({status:!1,id_Delete:null}),b=()=>{t({...u,status:!1})},S=()=>{t({...u,status:!1})},T=j=>{t({status:!0,id_Delete:j})};c.useEffect(()=>{(async()=>{try{let a=await Ps.getBachams();y(a.data.map(f=>({value:f._id,label:f.bacham})))}catch(a){console.log(a.message)}})()},[]),c.useEffect(()=>{s&&(p("id_item",null),p("ghichu",""),p("ngaylenham",""),(async()=>{try{let a=await D.getBachamPlus(s._id);console.log(a),d(a.data)}catch(a){console.log(a.message)}})())},[s]);const z=async j=>{if(h){m(!0);const a={...j,id:s._id};try{let f=await D.changeBachamPlus(a);d(f.data.data),await h(),r.reset(),m(!1),P.success(f.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(f){console.log(f.message)}}},_=j=>{p("id_item",j._id),p("ghichu",j.ghichu),p("ngaylenham",j.tungay),p("bacham",{label:j.bacham.bacham,value:j.bacham._id})},B=async()=>{if(h){m(!0);try{let j=await D.deleteBachamPlus(s._id,u.id_Delete);d(j.data.data),await h(),m(!1),P.success(j.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),t({...u,status:!1})}catch(j){console.log(j.message)}}};r.formState;const{register:M}=r,$=re(j=>j.authReducer.roles_quanlydoanvien);return e.jsx(e.Fragment,{children:e.jsxs(K,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(j,a)=>{a!=="backdropClick"&&i(j,a)},open:n,TransitionComponent:da,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(Q,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(X,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[16px]",children:['Quản trị bậc hàm nâng cao đối với đồng chí "',(E=s==null?void 0:s.bachamPopulate[0])==null?void 0:E.bacham," ",s==null?void 0:s.hoten]}),e.jsx(ua,{onClick:()=>i(),children:e.jsx(U,{style:{color:"white"}})})]}),e.jsxs(J,{children:[e.jsx(A,{children:e.jsxs("form",{onSubmit:r.handleSubmit(z),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Cấp bậc quân hàm chỉnh sửa:"}),e.jsx(W,{control:r.control,name:"bacham",render:({field:j})=>e.jsx(R,{options:x,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn bậc hàm",required:!0,...j})})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày lên hàm: "]}),e.jsx("input",{...M("ngaylenham"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col md:basis-1/3 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú chỉnh sửa: "}),e.jsx("input",{...M("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(le,{children:e.jsxs(O,{color:"primary",variant:"contained",disabled:!k("id_item"),type:"submit",style:{margin:"4px auto"},children:[e.jsx(ee,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})}),e.jsx("div",{children:e.jsx("h3",{className:"text-center my-4 text-lg font-bold text-blue-500",children:"Danh sách các bậc quân hàm đã nhận"})}),e.jsx(de,{style:{overflowX:"scroll"},children:e.jsxs(ue,{"aria-label":"custom pagination table",children:[e.jsx(he,{children:e.jsxs(H,{children:[e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"#"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Bậc hàm"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày lên quân hàm"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ghi chú"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"Thao tác"})]})}),e.jsx(xe,{children:g.length>0?g.map((j,a)=>e.jsxs(H,{children:[e.jsx(l,{children:a+1}),e.jsx(l,{children:j.bacham.bacham}),e.jsx(l,{children:I(j.tungay).format("DD/MM/YYYY")}),e.jsx(l,{children:j.ghichu}),e.jsxs(l,{align:"right",className:"bg-gray-300 flex justify-center items-center space-x-1 hover:bg-slate-500 transition duration-300",style:{width:"180px"},children:[$&&$.includes("sửa nâng cao")&&e.jsx(O,{variant:"contained",color:"success",size:"small",onClick:()=>_(j),children:e.jsx(ge,{style:{fontSize:"20px"}})}),$&&$.includes("xóa nâng cao")&&e.jsx(O,{variant:"contained",color:"error",size:"small",style:{marginLeft:"4px"},onClick:()=>T(j._id),children:e.jsx(pe,{style:{fontSize:"20px"}})})]})]},j._id)):e.jsx(H,{children:e.jsx(l,{children:"Không có dữ liệu trong hệ thống"})})})]})}),e.jsx(fe,{open:u.status,onCloseDialogDelete:S,onConfirmDelete:B,onCancelDelete:b})]})]})})}const xa=c.forwardRef(function(s,i){return e.jsx(G,{direction:"up",ref:i,...s})}),ga=Z(L)({position:"absolute",right:"16px",top:"4px"});function pa({open:n,item:s,onCloseDialogChuyenCongtac:i,onSubmit:h}){const r=Y({defaultValues:{id_item:null,ghichu:"",ngayvedonvi:""}});ae();const[C,m]=c.useState([]),[x,y]=c.useState([]),g=r.watch,d=r.setValue;c.useEffect(()=>{(async()=>{try{let t=await Ee.getDonvis();m(t.data.map(b=>({value:b._id,label:b.tendonvi})))}catch(t){console.log(t.message)}})()},[]),c.useEffect(()=>{(async()=>{let t=g("donvi");if(d("doi",""),t)try{let b=await D.getDoiWhenDonviChange({id_donvi:t.value});y(b.data.map(S=>({value:S._id,label:S.tendoi})))}catch(b){console.log(b.message)}})()},[g("donvi")]);const p=async u=>{if(h){const t={...u,id:s._id};await h(t),i()}},{register:k}=r;return e.jsx(e.Fragment,{children:e.jsxs(K,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(u,t)=>{t!=="backdropClick"&&i(u,t)},open:n,TransitionComponent:xa,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(Q,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(X,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[16px]",children:['Luân chuyển công tác trong Công an tỉnh đối với đồng chí "',s==null?void 0:s.hoten,'"']}),e.jsx(ga,{onClick:()=>i(),children:e.jsx(U,{style:{color:"white"}})})]}),e.jsx(J,{children:e.jsx(A,{children:e.jsxs("form",{onSubmit:r.handleSubmit(p),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đơn vị chuyển đến:"}),e.jsx(W,{control:r.control,name:"donvi",render:({field:u})=>e.jsx(R,{options:C,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn đơn vị công tác",required:!0,...u})})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đội, công an xã, phường chuyển đến:"}),e.jsx(W,{control:r.control,name:"doi",render:({field:u})=>e.jsx(R,{options:x,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn đội công tác, ca xã",required:!0,...u})})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày chuyển đến đơn vị: "]}),e.jsx("input",{...k("ngayvedonvi"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú: "}),e.jsx("input",{...k("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(le,{children:e.jsxs(O,{color:"primary",variant:"contained",type:"submit",style:{margin:"4px auto"},children:[e.jsx(ee,{}),e.jsx("span",{children:"Hoàn tất chuyển công tác"})]})})]})})})]})})}const fa=c.forwardRef(function(s,i){return e.jsx(G,{direction:"up",ref:i,...s})}),ma=Z(L)({position:"absolute",right:"16px",top:"4px"});function ba({open:n,item:s,onCloseDialogDonviPlus:i,onSubmit:h}){const r=Y({defaultValues:{id_item:null,ghichu:"",ngayvedonvi:""}}),[C,m]=ae(),[x,y]=c.useState([]),[g,d]=c.useState([]),[p,k]=c.useState([]),u=r.setValue,t=r.watch,b=re(a=>a.authReducer.roles_quanlydoanvien);c.useEffect(()=>{(async()=>{let f=t("donvi");if(f)try{let N=await D.getDoiWhenDonviChange({id_donvi:f.value});d(N.data.map(F=>({value:F._id,label:F.tendoi}))),N.data.find(F=>F._id.toString()===t("doi").value)||u("doi","")}catch(N){console.log(N.message)}})()},[t("donvi")]);const[S,T]=c.useState({status:!1,id_Delete:null}),z=()=>{T({...S,status:!1})},_=()=>{T({...S,status:!1})},B=a=>{T({status:!0,id_Delete:a})};c.useEffect(()=>{(async()=>{try{let f=await Ee.getDonvis();y(f.data.map(N=>({value:N._id,label:N.tendonvi})))}catch(f){console.log(f.message)}})()},[]),c.useEffect(()=>{s&&(u("id_item",null),u("ghichu",""),u("ngayvedonvi",""),(async()=>{try{let f=await D.getDonviPlus(s._id);k(f.data)}catch(f){console.log(f.message)}})())},[s]);const M=async a=>{if(h){m(!0);const f={...a,id:s._id};try{let N=await D.changeDonviPlus(f);k(N.data.data),await h(),r.reset(),m(!1),P.success(N.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),i()}catch(N){console.log(N.message)}}},$=a=>{u("id_item",a._id),u("ghichu",a.ghichu),u("ngayvedonvi",a.tungay),u("donvi",{label:a.donvi.tendonvi,value:a.donvi._id}),u("doi",{label:a.doi.tendoi,value:a.doi._id})},E=async()=>{if(h){m(!0);try{let a=await D.deleteDonviPlus(s._id,S.id_Delete);k(a.data.data),await h(),m(!1),P.success(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),T({...S,status:!1})}catch(a){console.log(a.message)}}};r.formState;const{register:j}=r;return e.jsx(e.Fragment,{children:e.jsxs(K,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(a,f)=>{f!=="backdropClick"&&i(a,f)},open:n,TransitionComponent:fa,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(Q,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(X,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[18px]",children:['Quản trị đơn vị công tác nâng cao đối với đồng chí "',s==null?void 0:s.hoten,'"']}),e.jsx(ma,{onClick:()=>i(),children:e.jsx(U,{style:{color:"white"}})})]}),e.jsxs(J,{children:[e.jsx(A,{children:e.jsxs("form",{onSubmit:r.handleSubmit(M),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-wrapp flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col md:basis-1/2 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đơn vị chỉnh sửa:"}),e.jsx(W,{control:r.control,name:"donvi",render:({field:a})=>e.jsx(R,{options:x,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn đơn vị",required:!0,...a})})]}),e.jsxs("div",{className:"flex-col md:basis-1/2 flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đội, công an xã, phường:"}),e.jsx(W,{control:r.control,name:"doi",render:({field:a})=>e.jsx(R,{options:g,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn đội công tác, ca xã",required:!0,...a})})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/2 flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày chuyển đến đơn vị: "]}),e.jsx("input",{...j("ngayvedonvi"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/2 flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Ghi chú: "}),e.jsx("input",{...j("ghichu"),placeholder:"Ghi chú",type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]})]}),e.jsx(le,{children:e.jsxs(O,{color:"primary",variant:"contained",disabled:!t("id_item"),type:"submit",style:{margin:"4px auto"},children:[e.jsx(ee,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})}),e.jsx("div",{children:e.jsx("h3",{className:"text-center my-4 text-lg font-bold text-blue-500",children:"Quá trình công tác qua các đơn vị"})}),e.jsx(de,{style:{overflowX:"scroll"},children:e.jsxs(ue,{"aria-label":"custom pagination table",children:[e.jsx(he,{children:e.jsxs(H,{children:[e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"#"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Đơn vị công tác"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"100px"},children:"Đội, công an xã"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ngày về đơn vị"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )",minWidth:"150px"},children:"Ghi chú"}),e.jsx(l,{align:"left",style:{fontSize:"14px",color:"#fff",padding:"8px 8px",backgroundColor:"rgb(30, 41, 59 )"},children:"Thao tác"})]})}),e.jsx(xe,{children:p.length>0?p.map((a,f)=>e.jsxs(H,{children:[e.jsx(l,{children:f+1}),e.jsx(l,{children:a.donvi.tendonvi}),e.jsx(l,{children:a.doi.tendoi}),e.jsx(l,{children:I(a.tungay).format("DD/MM/YYYY")}),e.jsx(l,{children:a.ghichu}),e.jsxs(l,{align:"right",className:"bg-gray-300 flex justify-center items-center space-x-1 hover:bg-slate-500 transition duration-300",style:{width:"180px"},children:[b&&b.includes("sửa nâng cao")&&e.jsx(O,{variant:"contained",color:"success",size:"small",onClick:()=>$(a),children:e.jsx(ge,{style:{fontSize:"20px"}})}),b&&b.includes("xóa nâng cao")&&e.jsx(O,{variant:"contained",color:"error",size:"small",style:{marginLeft:"4px"},onClick:()=>B(a._id),children:e.jsx(pe,{style:{fontSize:"20px"}})})]})]},a._id)):e.jsx(H,{children:e.jsx(l,{children:"Không có dữ liệu trong hệ thống"})})})]})}),e.jsx(fe,{open:S.status,onCloseDialogDelete:_,onConfirmDelete:E,onCancelDelete:z})]})]})})}const ja=c.forwardRef(function(s,i){return e.jsx(G,{direction:"up",ref:i,...s})}),va=Z(L)({position:"absolute",right:"16px",top:"4px"});function ya({open:n,item:s,onCloseDialogTruongthanhdoan:i,onSubmit:h}){var x;const r=Y({defaultValues:{ngaytruongthanhdoan:""}});ae(),r.setValue,r.watch;const C=async y=>{if(h){const g={...y};try{await h(g),i()}catch(d){console.log(d.message)}}};r.formState;const{register:m}=r;return e.jsx(e.Fragment,{children:e.jsxs(K,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(y,g)=>{g!=="backdropClick"&&i(y,g)},open:n,TransitionComponent:ja,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(Q,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(X,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[18px]",children:['Quyết định trưởng thành đoàn của đồng chí "',(x=s==null?void 0:s.bachamPopulate[0])==null?void 0:x.bacham," ",s==null?void 0:s.hoten,'"']}),e.jsx(va,{onClick:()=>i(),children:e.jsx(U,{style:{color:"white"}})})]}),e.jsx(J,{children:e.jsx(A,{children:e.jsxs("form",{onSubmit:r.handleSubmit(C),style:{width:"100%"},children:[e.jsx("div",{className:"flex flex-wrap  flex-col flex-1 p-2",children:e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Trưởng thành đoàn kể từ ngày: "]}),e.jsx("input",{...m("ngaytruongthanhdoan"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]})}),e.jsx(le,{children:e.jsxs(O,{color:"primary",variant:"contained",type:"submit",style:{margin:"4px auto"},children:[e.jsx(ee,{}),e.jsx("span",{children:"Lưu dữ liệu"})]})})]})})})]})})}const Ca=c.forwardRef(function(s,i){return e.jsx(G,{direction:"up",ref:i,...s})}),Da=Z(L)({position:"absolute",right:"16px",top:"4px"});function Na({open:n,item:s,onCloseDialogChuyenCongtackhactinh:i,onSubmit:h}){const r=Y({defaultValues:{ngayvedonvi:""}});ae();const[C,m]=c.useState([]);c.useState([]),r.watch,r.setValue,c.useEffect(()=>{(async()=>{try{let d=await D.getDonvikhactinh();m(d.data.map(p=>({value:p._id,label:p.tendonvi})))}catch(d){console.log(d.message)}})()},[]);const x=async g=>{if(h){const d={...g,id:s._id};await h(d),i()}},{register:y}=r;return e.jsx(e.Fragment,{children:e.jsxs(K,{maxWidth:"xl",fullWidth:!0,disableEscapeKeyDown:!0,onClose:(g,d)=>{d!=="backdropClick"&&i(g,d)},open:n,TransitionComponent:Ca,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[e.jsxs(Q,{style:{display:"flex",borderBottom:"1px solid #ccc",backgroundColor:"rgb(30, 41, 59 )",margin:"0px"},children:[e.jsx(X,{style:{color:"white",fontSize:"24px",marginRight:"8px"}}),e.jsxs("span",{className:"text-white text-[16px]",children:['Chuyển công tác đến địa phương khác đối với đồng chí "',s==null?void 0:s.hoten,'"']}),e.jsx(Da,{onClick:()=>i(),children:e.jsx(U,{style:{color:"white"}})})]}),e.jsx(J,{children:e.jsx(A,{children:e.jsxs("form",{onSubmit:r.handleSubmit(x),style:{width:"100%"},children:[e.jsxs("div",{className:"flex flex-wrap flex-col flex-1 p-2",children:[e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đơn vị, địa phương chuyển đến:"}),e.jsx(W,{control:r.control,name:"donvi",render:({field:g})=>e.jsx(R,{options:C,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Vui lòng chọn đơn vị, địa phương",required:!0,...g})})]}),e.jsxs("div",{className:"flex-col flex flex-1 px-1",children:[e.jsxs("label",{className:"underline font-semibold",children:[e.jsx("span",{className:"text-red-600 font-semibold",children:" (*)"})," Ngày chuyển công tác: "]}),e.jsx("input",{...y("ngayvedonvi"),placeholder:"dd-mm-yyyy",type:"date",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`,required:!0})]})]}),e.jsx(le,{children:e.jsxs(O,{color:"primary",variant:"contained",type:"submit",style:{margin:"4px auto"},children:[e.jsx(ee,{}),e.jsx("span",{children:"Hoàn tất chuyển công tác"})]})})]})})})]})})}const ka=c.lazy(()=>bs(()=>import("./DialogChangeBacham-6f278c48.js"),["assets/DialogChangeBacham-6f278c48.js","assets/index-af889cc1.js","assets/index-e803fe3a.css","assets/DialogDelete-4539fb54.js","assets/ButtonBase-df984b9e.js","assets/createSvgIcon-c7fd463f.js","assets/LastPage-dd44c61f.js","assets/Button-37b8afe6.js","assets/react-select.esm-34b6099d.js","assets/index.esm-a80e06b2.js","assets/index.esm-c3d487d5.js","assets/dayjs.min-f7728a8e.js","assets/bachamApi-3268978e.js","assets/GridView-81a883b8.js","assets/Search-2a58d6d5.js","assets/base-e8aaf39e.js","assets/canboApi-f8430c3d.js","assets/MilitaryTech-b50e2d5f.js","assets/Add-2c2882de.js","assets/chucvuApi-3ded1069.js","assets/donviApi-6df4dd62.js"])),Sa=()=>{c.useState(!1);const[n,s]=c.useState([]),[i,h]=c.useState([]);let[r,C]=js();const[m,x]=ae(),y=Le(),g=c.useMemo(()=>{const o=ys.parse(location.search);return{...o,hoten:o.hoten||"",sohieuCAND:o.sohieuCAND||"",donvi:o.donvi||""}},[location.search]),[d,p]=c.useState({status:!1,item:null}),k=()=>{p({...d,status:!1})},u=o=>{p({item:o,status:!0})},[t,b]=c.useState({status:!1,id_Delete:null}),S=o=>{b({status:!0,id_Delete:o})},T=()=>{b({...t,status:!1})},z=()=>{b({...t,status:!1})},[_,B]=c.useState({status:!1,item:null}),[M,$]=c.useState({status:!1,item:null}),[E,j]=c.useState({status:!1,item:null}),[a,f]=c.useState({status:!1,item:null}),[N,me]=c.useState({status:!1,item:null}),[F,we]=c.useState({status:!1,item:null}),[be,Oe]=c.useState({status:!1,item:null}),[oe,ze]=c.useState({status:!1,item:null}),Ge=()=>{B({..._,status:!1})},Ke=()=>{$({...M,status:!1})},Qe=()=>{j({...E,status:!1})},Xe=()=>{Oe({...be,status:!1})},Ue=()=>{f({...a,status:!1})},Je=()=>{me({...N,status:!1})},Ze=()=>{we({...F,status:!1})},es=()=>{ze({...oe,status:!1})},ss=o=>{B({item:o,status:!0})},as=o=>{me({item:o,status:!0})},ls=o=>{we({item:o,status:!0})},ns=o=>{$({item:o,status:!0})},ts=o=>{j({item:o,status:!0})},os=o=>{Oe({item:o,status:!0})},rs=o=>{f({item:o,status:!0})},is=o=>{ze({item:o,status:!0})},{register:Te,handleSubmit:_a,control:cs,resetField:Pa,watch:je,setValue:Be,formState:{errors:wa}}=Y({defaultValues:{donvi:{value:"",label:"Tất cả"}}}),ds=o=>{o.preventDefault(),C({...g,hoten:je("hoten"),donvi:je("donvi").value,sohieuCAND:je("sohieuCAND")})};c.useEffect(()=>{(async()=>{try{let v=await D.getDataForAddPerson(),q=[{label:"Tất cả",value:""}].concat(v.data.donvis.map(w=>({value:w._id,label:w.tendonvi})));s(q)}catch(v){v.message==="Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại"&&(y("/login"),P.error(v.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})),console.log(v.message)}})()},[]),c.useEffect(()=>{Be("donvi",g.donvi===""?{value:"",label:"Tất cả"}:n.find(o=>o.value===g.donvi))},[n]),c.useEffect(()=>{Be("donvi",g.donvi===""?{value:"",label:"Tất cả"}:n.find(v=>v.value===g.donvi)),(async()=>{try{x(!0);let v=await D.fetchDangvienList(g);h(v.data),setTimeout(()=>{x(!1)},400)}catch(v){v.message==="Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại"&&(y("/login"),x(!1),P.error(v.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})),console.log(v.message)}})()},[g]);const us=async o=>{let v={...o,queryParams:g};x(!0);try{let q=await D.editPerson(v),w=[...i],V=i.findIndex(ye=>ye._id.toString()===o.id_edit);w[V].hoten=o.hoten,w[V].ngaysinh=o.ngaysinh,w[V].CCCD=o.CCCD,w[V].sohieuCAND=o.sohieuCAND,w[V].quequan=o.quequan,o.dangvien.value?w[V].ngayvaodang=o.ngayvaodang:w[V].ngayvaodang="",w[V].gioitinh=o.gioitinh.value,w[V].dangvien=o.dangvien.value,w[V].trinhdo=o.trinhdo.value,w[V].lyluanchinhtri=o.lyluanchinhtri.value,h(w),setTimeout(()=>{x(!1)},400),P.success(q.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(q){P.error(q.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},hs=async()=>{x(!0);try{let o=await D.deletePerson(t.id_Delete,{...g}),q=[...i].filter(w=>w._id.toString()!==t.id_Delete);h(q),setTimeout(()=>{x(!1)},400),b({...t,status:!1}),P.success(o.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(o){P.error(o.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},xs=async o=>{x(!0);try{await D.changeBacham(o);let v=await D.fetchDangvienList(g);h(v.data),P.success(v.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}catch(v){P.error(v.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},gs=async o=>{try{x(!0),await D.changeChucvu(o);let v=await D.fetchDangvienList(g);h(v.data),P.success(v.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}catch(v){P.error(v.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},ps=async o=>{try{x(!0);let v=await D.chuyenCongtac(o),q=await D.fetchDangvienList(g);h(q.data),P.success(v.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}catch(v){P.error(v.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},fs=async o=>{try{x(!0);let v=await D.postChuyenkhactinh(o),q=await D.fetchDangvienList(g);h(q.data),P.success(v.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}catch(v){P.error(v.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}},ve=async()=>{try{let o=await D.fetchDangvienList(g);h(o.data)}catch(o){console.log(o.message)}},ms=async o=>{x(!0);let v={...o,id:oe.item._id};try{let q=await D.upTruongthanhdoan(v),V=[...i].filter(ye=>ye._id.toString()!==oe.item._id);h(V),setTimeout(()=>{x(!1)},400),b({...t,status:!1}),P.success(q.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(q){b({...t,status:!1}),P.error(q.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x(!1)}};return e.jsxs("div",{className:"pr-2","data-aos":"fade-left","data-aos-once":"true",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(vs,{color:"primary",fontSize:"large"}),e.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:"Quản trị đoàn viên thuộc chi đoàn, liên chi đoàn đang quản lý"})]}),e.jsxs("form",{onSubmit:o=>ds(o),className:"my-2 mt-4 p-4 rounded-lg shadow-xl",children:[e.jsxs("div",{className:"flex mb-4",children:[e.jsx(qe,{}),e.jsx("h3",{className:"font-semibold",children:"Tìm kiếm đoàn viên"})]}),e.jsxs("div",{className:"flex flex-wrap xl:flex-row flex-col flex-1 bg-slate-300 p-2 rounded-md",children:[e.jsxs("div",{className:"flex-col flex md:basis-1/3 flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Họ và tên: "}),e.jsx("input",{...Te("hoten",{required:!0}),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex md:basis-1/3 flex-1 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:" Số hiệu CAND: "}),e.jsx("input",{...Te("sohieuCAND"),type:"text",className:`outline-none my-4 border rounded-md p-2 border-neutral-600\r
                  focus:ring-2 focus:border-blue-400`})]}),e.jsxs("div",{className:"flex-col flex flex-1 md:basis-1/3 px-1",children:[e.jsx("label",{className:"underline font-semibold",children:"Đơn vị công tác:"}),e.jsx(W,{control:cs,name:"donvi",render:({field:o})=>e.jsx(R,{options:n,className:"basic-multi-select my-4 p-1",classNamePrefix:"select",placeholder:"Tất cả",required:!0,...o})})]})]}),e.jsx("div",{className:"my-2 text-center",children:e.jsxs(O,{sx:{width:"200px",backgroundColor:"slategray"},type:"submit",color:"info",variant:"contained",children:[e.jsx(qe,{})," Tìm kiếm"]})})]}),e.jsx("div",{className:"mt-6 mx-8",children:e.jsx(Xs,{list:i,onClickOpenDialogDelete:S,onClickOpenDialogEdit:u,onClickOpenDialogChangeBacHam:ss,onClickOpenDialogChangeChucvu:ns,onClickOpenDialogChucvuPlus:ts,onClickOpenDialogBachamPlus:rs,onClickOpenDialogDonviPlus:os,onClickOpenDialogChuyenCongtac:as,onClickOpenDialogChuyenCongtackhactinh:ls,onClickOpenDialogTruongthanhdoan:is})}),e.jsx(Zs,{open:d.status,item:d.item,onCloseDialogEdit:k,onSubmit:us,donvis:n}),e.jsx(ka,{open:_.status,item:_.item,onSubmit:xs,onCloseDialogChangeBacHam:Ge}),e.jsx(oa,{open:M.status,item:M.item,onSubmit:gs,onCloseDialogChangeChucvu:Ke}),e.jsx(fe,{open:t.status,onCloseDialogDelete:z,onConfirmDelete:hs,onCancelDelete:T}),e.jsx(ca,{open:E.status,item:E.item,onCloseDialogChucvuPlus:Qe,onSubmit:ve}),e.jsx(ya,{open:oe.status,item:oe.item,onCloseDialogTruongthanhdoan:es,onSubmit:ms}),e.jsx(ha,{open:a.status,item:a.item,onCloseDialogBachamPlus:Ue,onSubmit:ve}),e.jsx(pa,{open:N.status,item:N.item,onCloseDialogChuyenCongtac:Je,onSubmit:ps}),e.jsx(Na,{open:F.status,item:F.item,onCloseDialogChuyenCongtackhactinh:Ze,onSubmit:fs}),e.jsx(ba,{open:be.status,item:be.item,onCloseDialogDonviPlus:Xe,onSubmit:ve})]})},Qa=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"}));export{Qa as Q,ee as d};
